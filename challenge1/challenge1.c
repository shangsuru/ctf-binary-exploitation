#include <time.h>
#include <stdio.h>
#include <stdlib.h>


void challenge() {
    srand(time(0));

    FILE *fptr;

    char flag[60];
    fptr = fopen("flag.txt", "r");
    fgets(flag, 100, fptr);

    while(1) {
        int odometerCount = 0;
        int randomKilo = 0x7ffffffd - ((rand() % (0x1337 - 0x96 + 1)) + 0x96);
        printf("Random initial kilometer: %d\n", randomKilo);
        printf("Increment odometer by value: ");
        fflush(stdout);
        scanf("%d", &odometerCount);
        int newOdometerCount = randomKilo + odometerCount;
        if (newOdometerCount < 0) {
            printf("New odometer value is %d\n", newOdometerCount);
            printf("Something went wrong with the odometer.\nHere is the flag %s\n\n", flag);
        }
        printf("New odometer value %d has been set \n", newOdometerCount);
        fflush(stdout);
    }
}

int main(int argc, char *argv[]) {
    challenge();
    return 0;
}
